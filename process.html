<!DOCTYPE html>
<html lang="en" xmlns:data-role="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>The Process</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <!--[if lte IE 8]>
    <script src="css/ie/html5shiv.js"></script><![endif]-->
    <script src="js/jquery.min.js"></script>
    <script src="js/skel.min.js"></script>
    <script src="js/skel-layers.min.js"></script>
    <script src="js/init.js"></script>
    <script src="js/w3-html-include.js"></script>
    <style>
        div.button {
            float: left;
            width: 33%;
            display: block;
        }

        .process {
            width: 100%;
            background-color: coral;
        }

        .process:hover {
            background-color: firebrick;
        }
    </style>
    <noscript>
        <link rel="stylesheet" href="css/skel.css"/>
        <link rel="stylesheet" href="css/style.css"/>
        <link rel="stylesheet" href="css/style-xlarge.css"/>
    </noscript>
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="css/ie/v8.css"/><![endif]-->
    <script>
        var slideIndex = 0;
        var maxSlides;
        var wrapper;
        var cols = ['rgba(140,190,95,1)', 'rgba(189,94,124,1)', 'rgba(73,147,113,1)', 'rgba(212,135,106,1)'];

        function posMod(a, b) {
            return ((a % b) + b) % b
        }

        function showSlide(n) {
            slideIndex = posMod(n, maxSlides);
            n = slideIndex;
            wrapper.css({display: "none"});
            wrapper.eq(n).css({display: "block"});
        }

        $().ready(function () {
            HTMLInclude();
            wrapper = $(".wrapper");
            maxSlides = wrapper.length;
            showSlide(slideIndex);

            $("div.slide").click(function () {
                var idx = $(this).index();
                var col = $(this).css('background-color');
                $("body").css('border-color',col);
                console.log(col);

                showSlide(idx);

            });

            $(".collapsible").hide();

            $(".collapsor").click(function () {
                $(this).siblings(".collapsible").toggle();
            });
        })

    </script>
</head>
<body style="border-width: medium; border-color: white;">

<!-- Header -->
<div w3-include-html="header.html"></div>

<div style="width: 100%">
    <div class="button slide" style="background-color: rgba(140,190,95,1);width:25%">
        Sprint 1
    </div>

    <div class="button slide" style="background-color: rgba(189,94,124,1); width:25%">
        Sprint 2
    </div>

    <div class="button slide" style="background-color: rgba(73,147,113,1);width:25%">
        Sprint 3
    </div>

    <div class="button slide" style="background-color: rgba(212,135,106,1); width:25%">
        Sprint 4
    </div>
</div>
<!-- Main -->


<section id="Sprint 1" class="wrapper fade">


    <div class="container">
        <p class="process button collapsor" style="background-color: rgba(39,117,82,1); ">Software Process</p>

        <div class="collapsible">
            <header class="major">
                <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
              <span style="font-size: 40px; background-color: #FFFFFF; padding: 0 10px;">
                Sprint 1
              </span>
                </div>
            </header>
            <p>This first sprint was focused on making the bare bones of a first-pass model, and we decided that the
                heart
                of our system was a turtle that wanted to stay in the light. Because of this, we turned our efforts
                towards
                making sure our turtle could reliably sense a change in the light above it and respond. In order to do
                this,
                we created a basic control loop that looked at the value of two photodiodes and compared the analog
                voltage
                input to a set value. If the photodiodes reported too low, the turtle would move away from that sensor,
                either rolling forward or backwards. The eyes also switched on or off in response to the motion. Due to
                this
                fairly arbitrarily chosen value, the sensor needed to be thoroughly covered, such as by a hand, before
                it
                began to move, and then moved only until the sensor was fully in light. If both sensors were covered,
                the
                turtle remained still, mimicking
                what our final product might do if needing to cool down. It also only moved along a single axis, and was
                completely unaware of any surroundings forward or back.</p>

            <div>
                <p class="process button collapsor">CODE SNIPPET: Sensor checking and bare-bones decision algorithm</p>
                <span class="image center collapsible"><img
                        src="images/sProcess1.png" alt=""/></span>
            </div>
            <br>
            <br>
        </div>

    </div>


    <div class="container">
        <p class="process button collapsor" style="background-color: rgba(170,87,57,1); ">Electrical Process</p>

        <div class="collapsible">
            <header class="major">
                <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
              <span style="font-size: 40px; background-color: #FFFFFF; padding: 0 10px;">
                Sprint 1
              </span>
                </div>
            </header>
            <p>We started off making a prototype of our design. This prototype utilized photodiodes, motors, and LEDs.
                The photodiodes sensed the light and allowed the robot to move away from shadows. We used op amps to
                amplify the photodiode signal, giving us a significant difference in the output voltage from shadows
                and light. The motors moved wheels, allowing our prototype to move forward or backwards. The LEDs
                indicated which direction the robot was moving. This was to test a method of communicating our robot's
                state with a viewer. In this case, the state was moving forward or backward.</p>

            <p>Image of Photodiodes<span class="image left"><img src="images/eProcess1.jpg" alt=""/></span></p>

            <p>Circuit Schematic for Photodiodes<span class="image right"><img src="images/eProcess2.jpg"
                                                                               alt=""/></span></p>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>

        </div>


        <div class="container">
            <p class="process button collapsor" style="background-color: rgba(98,152,51,1); ">Mechanical Process</p>

            <div class="collapsible">
                <header class="major">
                    <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
              <span style="font-size: 40px; background-color: #FFFFFF; padding: 0 10px;">
                Sprint 1
              </span>
                    </div>
                </header>

                <div style="text-align: center">
                    <iframe width="560" height="315"
                            src="https://www.youtube.com/embed/xu2OKAbCuAg?list=PLObIxRf2mAvaiajQg-p28G6VD8BeZ4bRo"
                            frameborder="0" allowfullscreen></iframe>

                </div>
                <p>Our objective for the first sprint was to create a proof of concept for our project that encapsulated
                    the
                    most basic behavior of the turtle,
                    responding to light. We built a two dimensional cardboard sketch model that would support the few
                    necessary
                    components of such a system: wheels,
                    light sensors, LEDS, and an Arduino. Because the mechanical system for this sprint was meant to be a
                    platform for the electrical and software systems to test on,
                    we chose to create a very fast prototype to get an initial tangible image of what our project could
                    be.
                    Thick cardboard was cut into a base plate the approximate size
                    and shape of what we imagined the final project to be. Wheels were made from the same cardboard,
                    with their
                    edges covered in tape to make a smoother surface.
                    Rectangular cutouts for the wheels were made in the base plate, taking into account the wobbling of
                    the
                    wheel due to its insecure connection to the wheel via hot glue.
                    Holes for the sensors and LEDs were simply poked through the base plate.
                </p>

                <br>
                <br>
            </div>
</section>


<section id="Sprint 2" class="wrapper fade">


    <div class="container">
        <p class="process button collapsor" style="background-color: rgba(39,117,82,1); ">Software Process</p>

        <div class="collapsible">
            <header class="major">
                <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
              <span style="font-size: 40px; background-color: #FFFFFF; padding: 0 10px;">
                Sprint 2
              </span>
                </div>
            </header>
            <p>Starting the second sprint, we started on basic obstacle avoidance. Afterall, a turtle that runs into
                every
                wall it can when trying to escape the dark wouldn’t really work. However, we quickly ran into issues
                with
                finding analog pins that could be used to read the sensors and were not already assigned to another task
                on
                the motor shield. We started by using only two IR sensors in combination with the photodiodes, which was
                just few enough sensors to fit. Using these sensors, we took the code through a basic decision
                algorithm,
                where ‘seeing something’ meant that the IR sensor returned a voltage above a set value. We also
                normalized
                the IR values, so that the numbers were smaller. To be frank, this was rather pointless, but it was
                there
                nonetheless.</p>

            <p>The decision algorithm was as follows:
            <ul>
                <li>If shade in front, move backwards</li>
                <li>If shade over back sensor, check forward IR</li>
                <ul>
                    <li type="circle">If nothing in front, go forward</li>
                    <li type="circle">If something in front, check right IR</li>
                    <ul>
                        <li type="i">If nothing to right, turn right</li>
                        <li type="i">If something to right, turn left</li>
                    </ul>
                </ul>
            </ul>
            </p>
            <div>
                <p class="process button collapsor">CODE SNIPPET: Checking IRs for which direction is acceptable.
                    Contains the
                    later discarded
                    normalization.</p>
                <span class="image center collapsible"><img src="images/sProcess2.png" alt=""/></span>
            </div>

            <p>We did not combine this algorithm with the movement of the legs that the mechanical
                team made. Instead, because of difficulties with motor shield pins, we switched to
                using a multiplexer to cycle through sensors, and wrote basic code to switch between
                which pins on the multiplexer were being read.</p>


            <div>
                <p class="process button collapsor">CODE SNIPPET: method used to select a pin from the IR sensor.</p>
                <span class="image center collapsible"><img
                        src="images/sProcess3.png" alt=""/></span>
            </div>

            <p>We then included IR sensors to check forward and to the right whenever the turtle has to move</p>

            <p>On the final night, the mechanical subteam wrote control code for a newly fabricated
                pair of legs, each of which was controlled by two servos (essentially, a femur and a
                tibia). Both of these servos was given a range of values it would sweep through. Then,
                based on a flag that indicated if it was the right leg’s turn to move, the legs alternated movement and
                steps.</p>


            <span class="image left"><img src="images/sProcess6.jpg" alt=""/></span>

            <br><br><br><br><br><br><br><br><br><br><br>

            <p>In order to mimic realistic movement and keep the turtle stable, the legs had to move at
                different times and alternate steps. Here, a sloped line indicates the servo sweeping to
                a new angle. Steeper slopes show faster movement, such as when a leg is lifted to take a
                step, while the shallow slopes on the femurs show the slow rotation in preparation for the next
                step.</p>

            <p>Because of this major change from motor-controlled wheels to a quadruple servo system, integration
                of the leg control and the basic decision algorithm was not completed during this sprint.</p>


        </div>
    </div>


    <div class="container">
        <p class="button collapsor process" style="background-color: rgba(170,87,57,1); ">Electrical Process</p>

        <div class="collapsible">
            <header class="major">
                <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
              <span style="font-size: 40px; background-color: #FFFFFF; padding: 0 10px;">
                Sprint 2
              </span>
                </div>
            </header>

            <p>At the beginning of this sprint, we planned out the additional sensors we would need and realized
                that we were going to need more Analog pins on the arduino. To remedy this we utilized a 8-to-1
                multiplexer 4051. This uses the arduino digital pins 3, 4, and 5 to select which of the 8 outputs
                on the multiplexer to send to analog pin 0.</p>


            <p>Another goal for this sprint was obstacle avoidance, which meant we needed to be able to sense
                obstacles. For this we added 2 IR sensors. One went on the head pointing forward and the other
                two was on the right side of the turtle.</p>


            <p>Several of the analog pins we tried to use had already been assigned to tasks on the motor shield,
                causing interference when the sensors were connected. Once we realized this problem and incorporated
                the multiplexer, we managed to avoid any more issues tied to this.</p>


        </div>
        <div class="container">
            <p class="process button collapsor" style="background-color: rgba(98,152,51,1); ">Mechanical Process</p>

            <div class="collapsible">
                <header class="major">
                    <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
                      <span style="font-size: 40px; background-color: #FFFFFF; padding: 0 10px;">
                        Sprint 2 : Like a Spider
                      </span>
                    </div>
                </header>
                <p>Our next step in Sprint 2 was to develop quadrupedal motion mimicking that of a turtle for our
                    robot.
                    We referenced the movements of the <a href="https://www.youtube.com/watch?v=9dHtW0immKg">Allbot
                        VR408 Robot System</a>,
                    a small spider-looking robot with two degrees of freedom in each leg provided by servos.
                </p>

                <p>Before we began designing the legs, we learned more about servos and the kind of load they can
                    support. We
                    drew a very simple free body diagram of the connection between the body and a leg of the turtle
                    when the leg
                    is on the ground:</p>

                <p>We ran into problems with finding analog pins that could be used to read the sensors and were not
                    already assigned to another task on the motor shield. Once we realized this problem it was an
                    easy
                    fix to avoid using those analog pins for sensors.</p>

            </div>


        </div>
    </div>
</section>


<section id="Sprint 3" class="wrapper fade">


    <div class="container">
        <p class="process button collapsor" style="background-color: rgba(39,117,82,1);">Software Process</p>


        <div class="collapsible">
            <header class="major">
                <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
              <span style="font-size: 40px; background-color: #FFFFFF; padding: 0 10px;">
                Sprint 3
              </span>
                </div>
            </header>
            <p>This sprint was broken into pieces by Thanksgiving break. During the first part, we integrated the
                movement
                code from the previous sprint with the decision algorithm, as well as wrote code to allow for easyf
                testing
                of sensors. After the break was done, we made a quick pivot from a purely Arduino based system to
                communication between a Raspberry Pi and the Arduino. This was in order to facilitate future
                development,
                such as a more intelligent decision algorithm and incorporate web-streaming of the data.</p>

            <p>One of the other main changes was switching from only moving when one of the sensors registered shade to
                constant motion, and both the photodiodes and the IR sensors became self-calibrating, which meant we had
                to
                assume the turtle was started up in ideal circumstances for that initial read. Data was logged to a CSV,
                and
                the turtle no longer moved backwards, due to realism and the linkages of the legs.</p>

            <p>Code for a temperature sensor and a soil moisture sensor were also added, with a ‘seeking shade’ setting
                that
                looks for shade to rest in, but these were not tied to actual sensors.</p>

            <div>
                <p class="process button collapsor">CODE SNIPPET: Raspberry Pi main loop, which sends directions to
                    Serial</p>
                <span
                        class="image center collapsible"><img
                        src="images/sProcess4.png" alt=""/></span>
            </div>

            <div>
                <p class="process button collapsor">CODE SNIPPET: Arduino control sequence, writing to and receiving
                    directions
                    from serial/Raspberry Pi</p>
                <span
                        class="image center collapsible"><img src="images/sProcess5.png" alt=""/></span>
            </div>


        </div>

    </div>


    <div class="container">
        <p class="process button collapsor" style="background-color: rgba(170,87,57,1); ">Electrical Process</p>

        <div class="collapsible">
            <header class="major">
                <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
              <span style="font-size: 40px; background-color: #FFFFFF; padding: 0 10px;">
                Sprint 3
              </span>
                </div>
            </header>

            <p>We purchased additional sensors and calibrated them for plant care!</p>

            <p>The photoresistors were calibrated as a more efficient way to sense light, freeing space on the
                breadboard for other sensors. This allowed for us to measure light by taking the voltage between the
                photoresistor and a 330 Ohm resistor. </p>


            <p>We added and calibrated a soil moisture sensor by testing it in paper towels dampened with varying
                amounts of water. Fortunately, this gave us a good range of data points so no amplification was
                necessary.</p>


            <p>We also incorporated a temperature and humidity sensor. Because of a change in scope of our project which
                moved the
                final product from outdoors to indoors, the humidity sensor was of marginal importance. However, adding
                the
                temperature sensor inside the shell will ensure the plants do not overheat due to sunlight and
                greenhouse
                effects. If it is too hot, the turtle can move into the shade until it cools down. Calibrating this
                sensor was
                difficult, as both pieces of data were relayed through a single output pin. After extended research, we
                found an
                example code for this sensor and were able to properly display our sensor values.</p>

            <p>Photo of Sprint 3 Circuit Being Made</p><span class="image left"><img src="images/eProcess3.jpg" alt=""/></span>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>
            <br>

            <p>Sprint 3 Circuit Schematic<img src="images/eProcess4.jpg" alt=""/></p>
        </div>


        <div class="container">
            <p class="process button collapsor" style="background-color: rgba(98,152,51,1); ">Mechanical Process</p>

            <div class="collapsible">
                <header class="major">
                    <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
                      <span style="font-size: 40px; background-color: #FFFFFF; padding: 0 10px;">
                        Sprint 3 : Dive into Turtle Gaits
                      </span>
                    </div>
                </header>
                <p>Sprint 3 was focused on continuing the development of quadrupedal motion. From the leg prototype of
                    Sprint 2, we realized that we needed three degrees of freedom to create a convincing turtle
                    movement. The leg was tilting up and down and panning side to side, but for the two motions to be
                    constructive, the leg needed to give under the turtle, or have a rolling motion. One of the options
                    was to add a third servo to provide this degree of freedom. Instead, we decided to create a linkage
                    driven by a motor that combines the pitch motion of the upper and lower portion of the legs. This
                    choice kept the complexity of the system to two motors and did not add more weight at the end of the
                    foot that the servo needed to support. It also improved the aesthetic of the robot by providing us
                    with a convincing motion of a turtle leg without the need to program it and no extra bulky motors to
                    cover up.</p>


                <p>We chose to implement a Klann linkage which has 5 connections and 3 anchor points. Using the relative
                    dimensions from the example on Wikipedia, we tinkered a little bit with lengths of the linkages and
                    created an initial test prototype. Attaching it to a motor with a support we designed, it worked as
                    intended:</p>

                <figure class="fig">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/cRFd-gyLX1E" frameborder="0"
                            allowfullscreen></iframe>
                    <figcaption>Linkages to get desired motion.</figcaption>
                </figure>

                <p>
                    The rightmost anchor is connected to the motor shaft
                    which rotates a driving linkage. The other anchor points restrain the longest linkage to follow a
                    path which brings the leg up, forwards, puts it down, and draws it underneath the body. With a test
                    linkage working, we scaled it down to fit our turtle and laser cut all of the linkages. Early on,
                    some linkages started to break, and we decided that a better material would be Delrin, as it was two
                    times stronger flexurally. Until we could acquire Delrin, the joints on each linkage were reinforced
                    by making them thicker.</p>

                <figure class="fig">
                    <img src="images/mech/s3/sprint_3_linkage.JPG"/>
                    <figcaption>
                        A mixture of delrin and hardboard was used for the linkages as we refined the design of
                        the linkage
                    </figcaption>
                </figure>


                <p>The linkage took care of two of the three degrees of freedom. The yaw motion was provided by a servo
                    attached by a bell crank, a glorified 4-bar linkage, to the leg. As the servo rotates, the crank
                    translates its rotation into a sweep of the motor at a wider angle. In this way, we have precise
                    control of the angular position of the foot linkage.</p>

                <figure class="fig">
                    <img src="images/mech/s3/sprint_3_bell_crank_and_motor.JPG">
                    <figcaption>Design allows legs to turn</figcaption>
                </figure>

                <figure class="fig">
                    <iframe width="560" height="315" src="https://www.youtube.com/embed/xNuBAAkjFvI" frameborder="0"
                            allowfullscreen></iframe>
                    <figcaption>The integrated system of servo and linkages.</figcaption>
                </figure>


                <p>Due to the predicted heavy use of this movement, we were worried about friction between the motor
                    bottom and the plate. We attempted to reducx
                    xxe friction by embedding a marble in the motor support
                    bottom which would in theory rotate more freely on the hardboard. As we saw later, the friction
                    between these parts was not as big of a problem as the vertical movement of the robot with respect
                    to the plate.</p>

                <figure class="fig">
                    <img src="images/mech/s3/bad_marble_picture.jpg" style="width: 20%">
                    <figcaption>Under the red motor support, you can see a part of the marble popping out</figcaption>
                </figure>

                <p>The whole sprint was dedicated to pushing for a fully designed turtle to be able to test out every
                    part and iterate if necessary in the next sprint. We started with creating a compartment to house
                    the electronics. This bay would be separated from the plant by a plate which could be easily removed
                    to access the electronics. Because the turtle is carrying a plant that has water that can
                    potentially leak, all of our electrical components also needed to be well-isolated. We decided to
                    attach the dome and the plant to the plate and design to be able to remove this entire system to
                    access the electronics bay.</p>

                <figure class="fig">
                    <img src="images/mech/s3/hero_image.jpg">
                    <figcaption>Final CAD</figcaption>
                </figure>

                <p>The electronics bay consists of a wall that follows the perimeter of the turtle base plate and screws
                    into its bottom. It’s height was dictated at first by the height of the Arduino and the motor
                    shield. When we integrated the klann linkage, it became apparent that the shell needed to be high
                    enough to allow the topmost part of the leg to pass through without interference when the turtle is
                    lifting its leg. Because the leg was aso rotating, cutouts were swept out in the shell to allow for
                    full range of motion. The width was dictated by the length of the motors, which were unfortunately
                    very wide and large. Although we were able to find motors that took up less space, the estimated
                    cutout in CAD was not much smaller, and we stayed with our original motors. Cutouts for future
                    wiring to the head and tail were also made.</p>


                <figure class="fig">
                    <img src="images/mech/s3/ebay_shell.JPG">
                    <figcaption>Electronics Bay</figcaption>
                </figure>

                <p>Two of the IR sensors were also to be mounted in the shell. We wanted to preserve the aesthetic of
                    the turtle, so the sensors would need to be embedded. This was an extremely difficult task because
                    the shell is quite thick with limited space, and the sensors needed to be pointing at an angle to
                    the horizontal to be useful in obstacle avoidance. It was also unclear how precise we would be able
                    to mount them so that there would be no interference from the shell and the moving leg. For this
                    reason, we ultimately decided to mount them underneath the base plate, at the head.</p>


                <figure class="fig">
                    <img src="images/mech/s3/ir_sensors_underneath.JPG">
                    <figcaption>Head</figcaption>
                </figure>

                <p>The removeable plate went through two of its three iterations. At first, it was designed to slide
                    laterally into the top of the electronics bay. However, upon consideration of the fabrication
                    process, we could not easily cut the piece we needed. Instead of sliding, the plate would lift up
                    and down off of the electronics bay shell. The first method of attachment of the plate to the shell
                    were screws, but these take a lot of time to take out and put back in, and there was very little
                    space on the shell to place them. Our next idea was to use magnets to keep the plate in place as the
                    turtle wobble around. We used a combination of tiny sliding plates and glued parts to secure and
                    prevent the magnets from escaping their places. We very quickly learned that the sliding plates were
                    too small and precise for a 3D printer and were not worth our time. Gluing the magnets was not
                    preferred because we could not easily change the configuration. For the sprint 3 deliverable, we
                    used tape to secure the magnets. Although they seemed an elegant solution, we scrapped the magnets
                    in favor of a simpler and more reliable attachment in the next sprint.</p>

                <figure class="fig">
                    <img src="images/mech/s3/sprint_3_slide_plate.jpg">
                    <figcaption>Slide Plate</figcaption>
                </figure>
                <figure class="fig">
                    <img src="images/mech/s3/sprint_3_magnet.JPG">
                    <figcaption>A magnet was taped into a pocket in both the slide plate and the electronics bay
                        shell
                    </figcaption>
                </figure>

                <p>We upgraded the caster wheels supporting the turtle to omnidirectional ones to allow for a larger
                    range of motion. We only implemented linear movement, front and back, in Sprint 2 and therefore did
                    not need the supporting wheels to rotate. Sprint 3 would integrate obstacle avoidance which requires
                    the turtle to change its trajectory, making omnidirectional wheels a nice addition.</p>


                <p>Because the electronics bay shell was complicated and required a lot of support material, we had only
                    a part of it to work with when assembling the turtle. We also printed small foot attachments for the
                    ends of the legs to make contact with the ground. The first test resulted in no movement from the
                    turtle. The foot attachments were not making good contact with the ground, but even when we wrapped
                    them in rubber tape, the turtle still would not move. We realized that instead of pulling the leg
                    inwards and pushing the whole body forwards, the turtle was pushing the motor upwards, without
                    affecting the body. There was a very loose vertical constraint on the motor, and with nothing to
                    counteract the force of the foot’s push, the motor popped up and down. The marble that we had put in
                    to lessen friction between the motor mount and the base plate was falling out and proving
                    useless.</p>

                <figure class="fig">
                    <img src="images/mech/s3/sprint_3_front_foot.JPG" style="width: 30%;">
                    <figcaption>Foot</figcaption>
                </figure>


                <p>Initial solutions to the problem were to speed up the motor, clamp the shell and plate to the base
                    plate, and to stick cardboard pieces between the motor and the shell to create a tighter vertical
                    constraint on the motor. We also put more weight on the front of the robot to increase the friction
                    on the foot. We also attached a foot made out of layers of hardboard to lengthen the linkage and to
                    increase the contact area with the ground. These changes helped the turtle translate more of the
                    push into lateral motion, but not enough to reliably propel it forwards.
                </p>
                <figure class="fig">
                    <iframe width="560" height="315" src="https://www.youtube.com/watch?v=Ap4fOlc7e6o&feature=youtu.be"
                            frameborder="0"
                            allowfullscreen></iframe>
                    <figcaption>The updated motion.</figcaption>
                </figure>

                <p>Instead of testing on a smooth surface, we tried the turtle on the rough side of some hardboard. This
                    made an immense difference: https://www.youtube.com/watch?v=lGmxkizyCns After some time, however,
                    the movement became less reliable again. Many causes were identified for the problem, including the
                    legs being sloppy and not well constrained, not enough weight being applied to the legs because the
                    caster wheels were supporting it, covering the feet in material with a higher coefficient of
                    friction, and fortifying the linkages by doubling them.</p>
                <!--ADD UPDATED SPRINT 3 MECHANICAL STUFF-->
            </div>
        </div>
    </div>
</section>


<section id="Sprint 4" class="wrapper fade">


    <div class="container">
        <p class="process button collapsor" style="background-color: rgba(39,117,82,1); ">Software Process</p>

        <div class="collapsible">
            <header class="major">
                <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
              <span style="font-size: 40px; background-color: #FFFFFF; padding: 0 10px;">
                Sprint 4
              </span>
                </div>
            </header>
            <p>This sprint was largely focused on making the mechanical and aesthetic sides of the turtle the best they
                could be. Due to this, there was little change in the software. One decision was that the turtle would
                self-calibrate its sensors, assuming that it started in ideal conditions. We also added RGB LED control
                for
                the eyes, so that we could be alerted if the moisture in the soil got too low.</p>

        </div>

    </div>


    <div class="container">
        <p class="process button collapsor" style="background-color: rgba(170,87,57,1); ">Electrical Process</p>

        <div class="collapsible">
            <header class="major">
                <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
              <span style="font-size: 40px; background-color: #FFFFFF; padding: 0 10px;">
                Sprint 4
              </span>
                </div>
            </header>

            <p>The goal this sprint was to clean up the circuit and decrease the volume taken up by the electronics,
                so that it could fit inside the electronics bay in the turtle’s ‘stomach’. To do this, we downsized
                to a smaller breadboard and later a protoboard. All wires were cut to length, both decreasing the
                space needed and cleaning up the circuit.</p>

            <p>In addition to this, we added buttons to the feet, an on/off switch, a raspberry pi, and an
                accelerometer. The buttons complete a circuit when depressed, providing the Arduino pin with 5
                volts, and break the circuit when released. This allowed us to sense when a foot was on the ground,
                helping us control the gait of the turtle. The accelerometer was added for later data-streaming
                value. </p>

            <p>Photo of Sprint 4 Circuit</p><span class="image left"><img src="images/eProcess5.jpg" alt=""/></span></p>

            <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>

            <p>Sprint 4 Circuit Schematic<img src="images/eProcess6.png" alt=""/></p>
            <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
        </div>

    </div>
    <div class="container">
        <p class="process button collapsor" style="background-color: rgba(98,152,51,1);">Mechanical Process</p>

        <div class="collapsible">
            <header class="major">
                <div style="width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center">
                      <span style="font-size: 40px; background-color: #FFFFFF; padding: 0 10px;">
                        Sprint 4 : Dive into Turtle Gaits
                      </span>
                </div>
            </header>
            <p>The last few weeks were dedicated to finishing small parts of the design, making the linkage
                reliable, and fabricating the turtle.</p>


            <p>A head and a tail were designed to easily attach to the base plate and house the light sensors, LEDs,
                and IR sensors. We printed test parts to make sure that the sensors would fit into the holes and did
                not have interference from the walls in which they would be embedded. To make powering the turtle on
                and off easier, we embedded an easily accessible switch in the tail.</p>

            <figure class="fig">
                <img src="images/mech/s4/full_assembly_side.JPG">
                <figcaption>The final, full assembly</figcaption>
            </figure>


            <p>To finish the design, a mold for the dome was created. We wanted a transparent, ellipsoidal shell for
                the turtle to be able to see the plant from the outside and to look nice with the elliptical shape
                of the base plate. We manufactured the dome by vacuum forming plastic over a mold made out of
                machinable foam. The first pass failed because our sheet of acrylic was too small. The second dome
                turned out well for testing purposes, but was too foggy due to inadequate filing of the dome. The
                next iteration will be made on a smoother dome for better transparency.</p>

            <div align="center" style="width: 100%">
                <figure class="fig" style="float:left; width:33%">
                    <img src="images/mech/s4/mold.jpg" alt="" style="width:100%"/>
                </figure>
                <figure class="fig" style="float:left; width:33%">
                    <img src="images/mech/s4/dome_cut.jpg" alt="" style="width:100%"/>
                </figure>
                <figure class="fig" style="float:left; width:33%">
                    <img src="images/mech/s4/mold_out.jpg" alt="" style="width:100%"/>
                </figure>

            </div>
            (A mold was made out of machinable foam over which a sheet of PETG plastic was vacuum formed).


            <p>We wanted to be able to access the plant to take care of it, and therefore the dome must be
                removeable. Initially, the whole dome was to pop off, but keeping the water and dirt off of the
                electronics was of higher priority, and we decided that a hatch could be created in the dome for
                partial access instead. Using rebar wire, a hinge will be created to easily flip it up and down.
                In the interest of further protecting the electronics from water, we designed an inner ring that
                would attach to the plate and contain the soil and the plant. Instead of attempting to attach a thin
                dome to the base plate, its sides would be screwed to the inner ring and seal the barrier between
                the plant and the rest of the turtle. The inner ring also allowed us to adjust the height at which
                the dome would be sitting to not interfere with the plants.</p>


            <p>The plate separating the electronics bay from the dome was simplified further during this sprint.
                Instead of using magnets, the plate has press-fit dowels which will fit into slightly larger holes
                on the shell and secure the plate in the lateral plane. Because of the weight of the plant and dome,
                vertical movement will not be very significant and therefore does not need to be restrained. To
                remove the dome and plant, it simply needs to be lifted. This modification also allowed us to laser
                cut the plate out of hardboard and match it with the base plate for a better look.</p>

            <figure class="fig">
                <img src="images/mech/s3/shell_with_stakes.jpg">
                <figcaption>CAD of the shell</figcaption>
            </figure>


            <p>To put more weight onto the front of the turtle, the front caster wheel was made smaller to make the
                robot lean forwards. Furthermore, in order to reduce the tolerances in the linkages, which was the
                cause of failure in the turtle’s gait, we introduced journal bearings and dowel pins to connect the
                linkages rather than using poorly fitted #4 nuts and bolts. After these changes were implemented, it
                became apparent that for the turtle to walk, the legs must be completely out of phase with each
                other. Without any regulation, they slowly fall into phase and let the turtle drop onto its nose. By
                adding push buttons on the tips of the feet, we were able to keep track of when each leg was on the
                ground and use the Arduino to regulate the motion. Although we had planned to have four legs moving,
                we have decided to focus on the look and character of the turtle instead for the remaining week. We
                designed the turtle with possibility for later modifications in mind, a decision which allows us to
                confidently put the back two legs on the back burner.</p>

            <figure class="fig">
                <img src="images/mech/s3/sprint_3_bottom_wheels.jpg">
                <figcaption>The front caster wheel was reduced in size to put more weight onto the front legs
                </figcaption>
            </figure>


            <p>To make the robot look like a turtle, the electronics bay is being covered in epoxy, fiberglass, and
                a gradient wash of green and brown paint. We are experimenting with a stretchy fabric covering for
                the legs to mimic the skin of a turtle. The leg will have a tight fitting stocking of fabric fitted
                over it and pulled tight to all corners of the shell attached by strong velcro. This design will
                allow us to cover the unused holes from the back legs, access the linkages if necessary, and to play
                around with the look of the fabric.</p>
        </div>
    </div>
</section>

<div w3-include-html="footer.html"></div>

</body>
</html>
</footer>

</body>
</html>
